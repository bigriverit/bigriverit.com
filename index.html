<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="main.css">
	<title>Big River IT</title>
	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body>
	<header>
		<h1>Big River IT</h1>
		<p>
			<i>Veteran Owned Small Business</i><br/>
			Operating in the Columbia Basin for <span id="age"></span> years!
		</p>
	</header>
	<main>
		<section>
			<h1>Services</h1>
			<ul>
				<li>Windows and Mac</li>
				<li>Wireless Networks</li>
				<li>Server Support</li>
			</ul>
		</section>
		<section>
			<h1>Contact</h1>
			<form name="contact" data-netlify-recaptcha="true" data-netlify="true">
				<div class="g-recaptcha hidden" data-callback="recaptchaCallback" data-sitekey="6LdcOocoAAAAAEfkbhRY2IgqRCjz7wHrzE8P0h2W"></div>
				<ul>
					<li>
						<label for="name">Name:</label>
						<input type="text" id="name" name="user_name" required />
					</li>
					<li>
						<label for="mail">Email:</label>
						<input type="email" id="mail" name="user_email" required />
					</li>
					<li>
						<label for="msg">Message:</label>
						<textarea id="msg" name="user_message" rows="8" required></textarea>
					</li>
					<li>
						<button type="submit">Send your message</button>
					</li>
				</ul>
			</form>
		</section>
	</main>
	<footer>
		<p>	&copy; <span id="copy"></span> Big River IT</p>
	</footer>
	<script>
		let ageEl = document.getElementById('age')
		let copyEl = document.getElementById('copy')

		let cur = new Date().getFullYear()

		ageEl.innerHTML = cur - 2006
		copyEl.innerHTML = cur

		let captchaEl = document.querySelector('.g-recaptcha')
		let formEl = document.querySelector('form')
		let formListEl = document.querySelector('form ul')
		
		formEl.addEventListener('submit', (ev) => {
			formListEl.classList.add('hidden')
			captchaEl.classList.remove('hidden')
			ev.preventDefault();
		})

		function recaptchaCallback() {
			formEl.submit()
		}
	</script>
</body>

</html>